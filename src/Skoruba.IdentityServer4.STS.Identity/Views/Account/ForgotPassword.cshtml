@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.Extensions.Options
@using Skoruba.IdentityServer4.STS.Identity.Configuration.Interfaces
@inject IViewLocalizer Localizer
@model Skoruba.IdentityServer4.STS.Identity.ViewModels.Account.ForgotPasswordViewModel
@inject IOptions<IdentityOptions> IdentityOptions
@inject IRootConfiguration RootConfiguration
@{
    ViewData["Title"] = Localizer["Title"];
    Layout = "_LayoutLogin";
}
<div class="c-login__form">
    <div class="c-login__header">
        <h1>@RootConfiguration.AdminConfiguration.PageTitle</h1>
        <div class="c-sub">@Localizer["Title"]</div>
    </div>
    <div class="c-login__body">
        @if (!ViewContext.ModelState.IsValid)
        {
            <div asp-validation-summary="All" class="c-validation-errors"></div>
        }
        <form id="reset-form" asp-controller="Account" asp-action="ForgotPassword" method="post">
            <h2>@Localizer["ChoosePolicy"]</h2>
            @if (IdentityOptions.Value.User.RequireUniqueEmail)
            {
                <div class="c-form-group c-checkbox">
                    <input type="radio" id="use-email" asp-for="Policy" value="Email" />
                    <label for="use-email">@Localizer["Email"]</label>
                </div>
            }
            <div class="c-form-group c-checkbox">
                <input type="radio" id="use-username" asp-for="Policy" value="Username" />
                <label for="use-username">@Localizer["Username"]</label>
            </div>
            <div class="c-form-group resetPasswordBy" id="resetPasswordByEmail">
                <label for="email">@Localizer["Email"]</label>
                <input type="email" id="email" asp-for="Email" />
            </div>
            <div class="c-form-group resetPasswordBy" id="resetPasswordByUsername">
                <label for="username">@Localizer["Username"]</label>
                <input type="text" id="username" asp-for="Username" />
            </div>
        </form>
    </div>
    <div class="c-login__footer">
        <button class="c-button" type="submit" form="reset-form">
            @Localizer["Submit"]
        </button>
    </div>
</div>


@section scripts {

    <script src="~/js/forgot-password.js">
    </script>
}